#create a raster file from latitude and longitude
gbif_raster <- rasterFromXYZ(data.frame(x = longitude, y = latitude))
# Set the desired resolution and extent for the regular grid
resolution <- 0.01  # Replace with your desired resolution
extent <- extent(df$longitude) + c(-1, 1, -1, 1)  # Adjust the extent as needed
# Set the desired resolution and extent for the regular grid
resolution <- 0.01  # Replace with your desired resolution
extent <- extent(gbif$decimalLongitude) + c(-1, 1, -1, 1)  # Adjust the extent as needed
# Create a regular grid
grid <- raster(extent, res = resolution)
#create a raster file from latitude and longitude
gbif_raster <- rasterFromXYZ(data.frame(x = longitude, y = latitude))
#create a raster file from latitude and longitude
gbif_raster <- SpatialPoints(data.frame(x = longitude, y =latitude))
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_shape(land) +
tm_raster(style = "cont", midpoint = 0, palette = "RdYlBu", title = "Mean EI",
contrast = 1) +  tm_shape(gbif)+
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
data(World, land)
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_shape(land) +
tm_raster(style = "cont", midpoint = 0, palette = "RdYlBu", title = "Mean EI",
contrast = 1) +  tm_shape(gbif)+
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_shape(land) +
tm_raster(style = "cont", midpoint = 0, palette = "RdYlBu", title = "Mean EI",
contrast = 1) +  tm_shape(gbif_raster)+
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(Irrigation_data) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_shape(land) +
tm_raster(style = "cont", midpoint = 0, palette = "RdYlBu", title = "Mean EI",
contrast = 1) +  tm_shape(gbif_raster)+
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_shape(land) +
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
#tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(land) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_raster(land) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(land) +
tm_borders("white", lwd = .5) +
tm_text("iso_a3", size = "AREA")+
#check the land cover/cover_cls & modify the legends later
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(land) +
tm_borders("white", lwd = .5) +
#check the land cover/cover_cls & modify the legends later
tm_dots(col = "blue", palette = "Set1", title = "City") +
tm_basemap("OpenStreetMap") +
tm_layout(bg.color = "white", inner.margins = c(0, .02, .02, .02))+
tm_layout(legend.position = c("left", "bottom"))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_raster(gbif_raster)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_raster(gbif_raster)+
tm_shape(aflatoxin_map)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_raster(gbif_raster)+
tm_shape(land)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_raster(gbif_raster)+
tm_shape(World)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)+
tm_shape(land)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)+
tm_shape(land)+
tm_raster("cover", palette = terrain.colors(10))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)+
tm_shape(land)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster(Irrigation_data_rescaled)
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)+
tm_shape(land)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster(Irrigation_data)
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)+
tm_shape(land)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster("Irrigation_data", palette = terrain.colors(10))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)+
tm_shape(land)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster("Irrigation_data", palette = terrain.colors(10))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(World)+
tm_borders("white", lwd = .5)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster("Irrigation_data", palette = terrain.colors(10))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_borders("white", lwd = .5)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster("Irrigation_data", palette = terrain.colors(10))
aflatoxin_map
###Map both EI values next to each other using tmap###
map_1 <- tm_shape(gbif_tmap)+
tm_shape(Irrigation_data_rescaled)+
tm_raster(style = "cont",palette = "RdYlBu", title = "EI1", max.value = 100)+
tm_layout(legend.outside = TRUE, legend.outside.position = "bottom")
map_1
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(gbif_tmap)+
tm_borders("white", lwd = .5)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster("Irrigation_data", palette = terrain.colors(10))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(gbif_raster+
tm_raster("cover", palette = terrain.colors(10))+
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(gbif_raster)+
tm_borders("white", lwd = .5)+
tm_raster("cover", palette = terrain.colors(10))+
tm_raster("Irrigation_data", palette = terrain.colors(10))
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_points) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
aflatoxin_map
View(Irrigation_data)
crs(Irrigation_data) <- "+proj=longlat +datum=WGS84"
tmap_mode("plot")
data(World, land)
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
aflatoxin_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
aflatoxin_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
aflatoxin_map
View(Irrigation_data)
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
aflatoxin_map
rm(list = ls())
graphics.off()
getwd()
#check package dependencies later
library(readr) #use for reading csv file
library(sf) #for reading spatial data
library(raster) #similar reason
library(tmap) #mapping
library(sp)
library(rgdal)
library(rasterVis)
setwd("Documents/CABI_Project/data/")
Irrigation_data <- raster("EI_irrigation.tiff.tiff")
No_irrigation_data <- raster("EI_noirrigation.tiff.tiff")
#load the gbif occurences data
gbif <- read.csv("gbif_occurrence.csv")
#extract the lattitude and longitude columns within the files
latitude <- gbif$decimalLatitude
longitude <- gbif$decimalLongitude
#create a raster file from latitude and longitude
gbif_SpatialPoints <- SpatialPoints(data.frame(x = longitude, y =latitude))
#create a new raster file to reverse the data
Irrigation_data_reversed <- 250 - Irrigation_data
No_irrigation_data_reversed <- 250 - Irrigation_data
rm(list = ls())
graphics.off()
getwd()
#check package dependencies later
library(readr) #use for reading csv file
library(sf) #for reading spatial data
library(raster) #similar reason
library(tmap) #mapping
library(sp)
library(rgdal)
library(rasterVis)
setwd("Documents/CABI_Project/data/")
Irrigation_data <- raster("EI_irrigation.tiff.tiff")
No_irrigation_data <- raster("EI_noirrigation.tiff.tiff")
#load the gbif occurences data
gbif <- read.csv("gbif_occurrence.csv")
#extract the lattitude and longitude columns within the files
latitude <- gbif$decimalLatitude
longitude <- gbif$decimalLongitude
#create a raster file from latitude and longitude
gbif_SpatialPoints <- SpatialPoints(data.frame(x = longitude, y =latitude))
#create a new raster file to reverse the data
Irrigation_data_reversed <- 250 - Irrigation_data
No_irrigation_data_reversed <- 250 - Irrigation_data
# Define the old and new ranges
old_range <- c(0, 250)
new_range <- c(0, 100)
# Rescale the values in the reversed raster to the range [0, 100]
Irrigation_data_rescaled <- (Irrigation_data_reversed - old_range[1]) /
diff(old_range) * diff(new_range) + new_range[1]
No_irrigation_data_rescaled <- (Irrigation_data_reversed - old_range[1]) /
diff(old_range) * diff(new_range) + new_range[1]
tmap_mode("plot")
data(World, land)
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_SpatialPoints) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
#create empty raster, modify resolution later
resolution <- 0.1
extent <- extent(gbif_SpatialPoints)
extent <- extent(spatial_points)
gbif_SpatialPoints
gbif_raster <- raster(extent, resolution)
#rasterize the spatial points into empty raster
rasterized_gbif <- rasterize(spatial_points, gbif_SpatialPoints)
#rasterize the spatial points into empty raster
rasterized_gbif <- rasterize(gbif_Spatial_points, gbif_raster)
#create a raster file from latitude and longitude
gbif_SpatialPoints <- SpatialPoints(data.frame(x = longitude, y =latitude))
#create empty raster, modify resolution later
resolution <- 0.1
extent <- extent(gbif_SpatialPoints)
gbif_raster <- raster(extent, resolution)
#rasterize the spatial points into empty raster
rasterized_gbif <- rasterize(gbif_Spatial_points, gbif_raster)
#rasterize the spatial points into empty raster
rasterized_gbif <- rasterize(gbif_Spatialpoints, gbif_raster)
#rasterize the spatial points into empty raster
rasterized_gbif <- rasterize(gbif_SpatialPoints, gbif_raster)
writeRaster(rasterized, "../data/gbif_raster.tif", format ="GTiff")
writeRaster(rasterized_gbif, "../data/gbif_raster.tif", format ="GTiff")
gbif_raster <- raster(gbif_raster.tif)
getwd()
writeRaster(rasterized_gbif, "../data/gbif_raster.tif", format ="GTiff")
gbif_raster <- raster("gbif_raster.tif")
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_SpatialPoints) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
rm(list = ls())
graphics.off()
getwd()
#check package dependencies later
library(readr) #use for reading csv file
library(sf) #for reading spatial data
library(raster) #similar reason
library(tmap) #mapping
library(sp)
library(rgdal)
library(rasterVis)
setwd("Documents/CABI_Project/data/")
Irrigation_data <- raster("EI_irrigation.tiff.tiff")
No_irrigation_data <- raster("EI_noirrigation.tiff.tiff")
#load the gbif occurences data
gbif <- read.csv("gbif_occurrence.csv")
#extract the lattitude and longitude columns within the files
latitude <- gbif$decimalLatitude
longitude <- gbif$decimalLongitude
#create a raster file from latitude and longitude
gbif_SpatialPoints <- SpatialPoints(data.frame(x = longitude, y =latitude))
#create empty raster, modify resolution later
resolution <- 0.1
extent <- extent(gbif_SpatialPoints)
gbif_raster <- raster(extent, resolution)
#rasterize the spatial points into empty raster
rasterized_gbif <- rasterize(gbif_SpatialPoints, gbif_raster)
writeRaster(rasterized_gbif, "../data/gbif_raster.tif", format ="GTiff")
gbif_raster <- raster("gbif_raster.tif")
#create a new raster file to reverse the data
Irrigation_data_reversed <- 250 - Irrigation_data
No_irrigation_data_reversed <- 250 - Irrigation_data
# Define the old and new ranges
old_range <- c(0, 250)
new_range <- c(0, 100)
# Rescale the values in the reversed raster to the range [0, 100]
Irrigation_data_rescaled <- (Irrigation_data_reversed - old_range[1]) /
diff(old_range) * diff(new_range) + new_range[1]
No_irrigation_data_rescaled <- (Irrigation_data_reversed - old_range[1]) /
diff(old_range) * diff(new_range) + new_range[1]
tmap_mode("plot")
data(World, land)
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_raster(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <-
tmshape(Land)+
tm_raster(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_raster) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "GBIF Distribution on Irrigation Layer") +
tm_legend(show = FALSE)  # Optional: hide the legend
gbif_irrigation_map
rm(list = ls())
graphics.off()
getwd()
#check package dependencies later
library(readr) #use for reading csv file
library(sf) #for reading spatial data
library(raster) #similar reason
library(tmap) #mapping
library(sp)
library(rgdal)
library(rasterVis)
setwd("Documents/CABI_Project/data/")
Irrigation_data <- raster("EI_irrigation.tiff.tiff")
No_irrigation_data <- raster("EI_noirrigation.tiff.tiff")
#load the gbif occurences data
gbif <- read.csv("gbif_occurrence.csv")
#extract the lattitude and longitude columns within the files
latitude <- gbif$decimalLatitude
longitude <- gbif$decimalLongitude
gbif_sp <- SpatialPointsDataFrame(coords = cbind(longitude, latitude), data = gbif)
#create a map overlapping the irrigation and no irrigation with gbif occurences
gbif_irrigation_map <- tm_shape(Irrigation_data) +
tm_raster(style = "fixed", palette = "Blues", title = "Irrigation Data") +
tm_shape(gbif_sp) +
tm_dots(col = "red", size = 0.5, title = "GBIF Occurrences") +
tm_layout(title = "Irrigation Data with GBIF Occurences")+
tm_legend(show = FALSE )
gbif_irrigation_map
